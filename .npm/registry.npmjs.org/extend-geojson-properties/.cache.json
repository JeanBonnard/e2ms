{"_id":"extend-geojson-properties","_rev":"12-09db4ac6225e6f3ae143ba802a8cccca","name":"extend-geojson-properties","description":"Extende properties/attributes of geojson (array of features or FeatureCollction) from separate dataset of jsons.","dist-tags":{"latest":"0.1.2"},"versions":{"0.0.0":{"name":"extend-geojson-properties","version":"0.0.0","description":"Extende properties/attributes of geojson objects from separate dataset of jsons.","main":"index.js","directories":{"test":"test"},"scripts":{"test":"mocha"},"keywords":["geojson","attributes","join","extend","maps"],"repository":{"type":"git","url":"https://github.com/gagan-bansal/extend-geojson-properties"},"author":{"name":"Gagan Bansal","email":"gaganbansal123@gmail.com"},"license":"MIT","devDependencies":{"mocha":"~1.17.1","chai":"^1.9.1"},"bugs":{"url":"https://github.com/gagan-bansal/extend-geojson-properties/issues"},"homepage":"https://github.com/gagan-bansal/extend-geojson-properties","_id":"extend-geojson-properties@0.0.0","dist":{"shasum":"742719918e4a5ca2f3f2c97ba6ccab947b71bac7","tarball":"https://registry.npmjs.org/extend-geojson-properties/-/extend-geojson-properties-0.0.0.tgz"},"_from":".","_npmVersion":"1.4.6","_npmUser":{"name":"gagan-bansal","email":"gaganbansal123@gmail.com"},"maintainers":[{"name":"gagan-bansal","email":"gaganbansal123@gmail.com"}]},"0.0.2":{"name":"extend-geojson-properties","version":"0.0.2","description":"Extende properties/attributes of geojson objects from separate dataset of jsons.","main":"index.js","directories":{"test":"test"},"scripts":{"test":"mocha"},"keywords":["geojson","attributes","join","extend","maps"],"repository":{"type":"git","url":"https://github.com/gagan-bansal/extend-geojson-properties"},"author":{"name":"Gagan Bansal","email":"gaganbansal123@gmail.com"},"license":"MIT","devDependencies":{"mocha":"~1.17.1","chai":"^1.9.1"},"bugs":{"url":"https://github.com/gagan-bansal/extend-geojson-properties/issues"},"homepage":"https://github.com/gagan-bansal/extend-geojson-properties","_id":"extend-geojson-properties@0.0.2","dist":{"shasum":"014c13cca306f8e3bebcfa75a2d5dbab754324b9","tarball":"https://registry.npmjs.org/extend-geojson-properties/-/extend-geojson-properties-0.0.2.tgz"},"_from":".","_npmVersion":"1.4.6","_npmUser":{"name":"gagan-bansal","email":"gaganbansal123@gmail.com"},"maintainers":[{"name":"gagan-bansal","email":"gaganbansal123@gmail.com"}]},"0.0.3":{"name":"extend-geojson-properties","version":"0.0.3","description":"Extende properties/attributes of geojson objects from separate dataset of jsons.","main":"index.js","directories":{"test":"test"},"scripts":{"test":"mocha test/test.js"},"keywords":["geojson","attributes","join","extend","maps"],"repository":{"type":"git","url":"https://github.com/gagan-bansal/extend-geojson-properties"},"author":{"name":"Gagan Bansal","email":"gaganbansal123@gmail.com"},"license":"MIT","devDependencies":{"mocha":"~1.17.1","chai":"^1.9.1"},"gitHead":"6ce6098cd8da58f222008d77a46064b518b52802","bugs":{"url":"https://github.com/gagan-bansal/extend-geojson-properties/issues"},"homepage":"https://github.com/gagan-bansal/extend-geojson-properties","_id":"extend-geojson-properties@0.0.3","_shasum":"d4a0b4b8d87e888df1f8f98ebe82a1299cbb24b1","_from":".","_npmVersion":"1.4.21","_npmUser":{"name":"gagan-bansal","email":"gaganbansal123@gmail.com"},"maintainers":[{"name":"gagan-bansal","email":"gaganbansal123@gmail.com"}],"dist":{"shasum":"d4a0b4b8d87e888df1f8f98ebe82a1299cbb24b1","tarball":"https://registry.npmjs.org/extend-geojson-properties/-/extend-geojson-properties-0.0.3.tgz"}},"0.1.0":{"name":"extend-geojson-properties","version":"0.1.0","description":"Extende properties/attributes of geojson objects from separate dataset of jsons.","main":"index.js","directories":{"test":"test"},"scripts":{"test":"mocha test/test.js"},"keywords":["geojson","attributes","join","extend","maps"],"repository":{"type":"git","url":"https://github.com/gagan-bansal/extend-geojson-properties"},"author":{"name":"Gagan Bansal","email":"gaganbansal123@gmail.com"},"license":"MIT","devDependencies":{"chai":"^1.9.1","clone":"^0.2.0","mocha":"~1.17.1"},"gitHead":"8ed50541095a1561a45411417d10151a4800ba7b","bugs":{"url":"https://github.com/gagan-bansal/extend-geojson-properties/issues"},"homepage":"https://github.com/gagan-bansal/extend-geojson-properties","_id":"extend-geojson-properties@0.1.0","_shasum":"9f8f0373c4f5a5adff86811e3c1fc2a82b9ced78","_from":".","_npmVersion":"2.1.16","_nodeVersion":"0.10.35","_npmUser":{"name":"gagan-bansal","email":"gaganbansal123@gmail.com"},"maintainers":[{"name":"gagan-bansal","email":"gaganbansal123@gmail.com"}],"dist":{"shasum":"9f8f0373c4f5a5adff86811e3c1fc2a82b9ced78","tarball":"https://registry.npmjs.org/extend-geojson-properties/-/extend-geojson-properties-0.1.0.tgz"}},"0.1.1":{"name":"extend-geojson-properties","version":"0.1.1","description":"Extende properties/attributes of geojson (array of features or FeatureCollction) from separate dataset of jsons.","main":"index.js","directories":{"test":"test"},"scripts":{"test":"mocha test/test.js"},"keywords":["geojson","attributes","join","extend","maps"],"repository":{"type":"git","url":"https://github.com/gagan-bansal/extend-geojson-properties"},"author":{"name":"Gagan Bansal","email":"gaganbansal123@gmail.com"},"license":"MIT","devDependencies":{"chai":"^1.9.1","clone":"^0.2.0","mocha":"~1.17.1"},"gitHead":"7899684400fa9dcc39edf6d6b413d3ca065ea612","bugs":{"url":"https://github.com/gagan-bansal/extend-geojson-properties/issues"},"homepage":"https://github.com/gagan-bansal/extend-geojson-properties","_id":"extend-geojson-properties@0.1.1","_shasum":"5b248ba4969dd4f4c2d66f3cfef6e4d98ebdf6c4","_from":".","_npmVersion":"2.1.16","_nodeVersion":"0.10.35","_npmUser":{"name":"gagan-bansal","email":"gaganbansal123@gmail.com"},"maintainers":[{"name":"gagan-bansal","email":"gaganbansal123@gmail.com"}],"dist":{"shasum":"5b248ba4969dd4f4c2d66f3cfef6e4d98ebdf6c4","tarball":"https://registry.npmjs.org/extend-geojson-properties/-/extend-geojson-properties-0.1.1.tgz"}},"0.1.2":{"name":"extend-geojson-properties","version":"0.1.2","description":"Extende properties/attributes of geojson (array of features or FeatureCollction) from separate dataset of jsons.","main":"index.js","directories":{"test":"test"},"scripts":{"test":"mocha test/test.js"},"keywords":["geojson","attributes","join","extend","maps"],"repository":{"type":"git","url":"https://github.com/gagan-bansal/extend-geojson-properties"},"author":{"name":"Gagan Bansal","email":"gaganbansal123@gmail.com"},"license":"MIT","devDependencies":{"chai":"^1.9.1","clone":"^0.2.0","mocha":"~1.17.1"},"gitHead":"35446d3b94192dbb11716d0646b9ed728ebd01c8","bugs":{"url":"https://github.com/gagan-bansal/extend-geojson-properties/issues"},"homepage":"https://github.com/gagan-bansal/extend-geojson-properties","_id":"extend-geojson-properties@0.1.2","_shasum":"837b47a21938403d389e3eaa7965c31323dcfc41","_from":".","_npmVersion":"2.1.16","_nodeVersion":"0.10.35","_npmUser":{"name":"gagan-bansal","email":"gaganbansal123@gmail.com"},"maintainers":[{"name":"gagan-bansal","email":"gaganbansal123@gmail.com"}],"dist":{"shasum":"837b47a21938403d389e3eaa7965c31323dcfc41","tarball":"https://registry.npmjs.org/extend-geojson-properties/-/extend-geojson-properties-0.1.2.tgz"}}},"readme":"# extend-geojson-properties\nExtend properties of geojson (array of features or FeatureCollection) from separate dataset of jsons.\n\n## Installation \nFor node.js or with browserify\n```\nnpm install extend-geojson-properties\n```\nTo include in html page, download file [index.js](https://raw.githubusercontent.com/gagan-bansal/extend-geojson-properties/master/index.js) and rename to extend-geojson-properties.js\n```html\n<script type=\"text/javascript\" src=\"path/to/extend-geojson-properties.js\"></script>\n```\nThis create global variable **extendGeoJSON**.\n\n## Usage\nThis module return a function or create global function named **extendGeoJSON** that extends the geojson properties.\n\n```javascript \nvar extendGeoJSON = require('extend-geojson-properties');\nextentGeoJSON( geojsons, dataSet, joinMap);\n```\n* **geojsons** array of features or FeatureCollection\n* **dataSet** array of json objects from which properties need to be picked\n* **joinMap** joining rules\n\njoinMap structure must be like:\n```\nvar joinMap = { \n  geoKey: ... , \n  dataKey: ... ,\n  popertyMap: ...\n}\n```\n* **geoKey** property key or feature id in geojson features that can be used as join key  \n* **dataKey** key name in json data that will be used as join key i.e. has same value as of geoKey\n* **propertyMap [optional]** if not given extend all the keys of dataSet object (except **dataKey**) to geojson properties. If you want selective keys to be extended then provide array of objects of mapping among the items that need to be extend to geojson as properties   \n ```javascript\n    {\n      geoProperty: // string,  key path in geojson feature property name \n      dataProperty: // string, key path in dataSet object property/attributes name \n    }\n ```\n\n## Example\nHere is the sample data set that I use for test also.\n\nOriginal geojsons:\n\n```javascript\n    var geojsons = [{\n        type:'Feature',\n        id: 'id1',\n        geometry: {type: 'Point', coordinates: [34,50]},\n        properties: { name: 'name1' }\n      }, {\n        type:'Feature',\n        id: 'id3',\n        geometry: {type: 'Point', coordinates: [10,35]},\n        properties: { name: 'name3'}\n      }, {\n        type:'Feature',\n        id: 'id2',\n        geometry: {type: 'Point', coordinates: [-30,-50]},\n        properties: { name: 'name2'}\n      }];\n```\nDataset containing the attributes that we want to extend to geojsons:\n```javascript\n    var joinDataSet = [{\n        attr1: 'name1',\n        attr2: 'val1-2',\n        attr3: {field : 'val1-3',count:23}\n      }, {\n        attr1: 'name2',\n        attr2: 'val2-2',\n        attr3: {field : 'val2-3',count:2}\n      }, {\n        attr1: 'name3',\n        attr2: 'val3-2',\n        attr3: {field : 'val3-3',count:105}\n      }];\n```\n**Case 1** joinMap does not contain the propertyMap\n```javascript\nvar joinMap = {\n  geoKey:'properties.name', //here geoKey can be feature 'id' also \n  dataKey: 'attr1'};\nextentGeoJSON(geojsons,dataSet,joinMap);\n```\n**Output of case 1** Now geojsons contains the extended properties like this:\n```jsvascript \n    [{\n      type:'Feature',\n      id: 'id1',\n      geometry: {type: 'Point', coordinates: [34,50]},\n      properties: {\n        name: 'name1',\n        attr2: 'val1-2',\n        attr3: {field : 'val1-3',count:23}\n      }\n    }, {\n      type:'Feature',\n      id: 'id3',\n      geometry: {type: 'Point', coordinates: [10,35]},\n      properties: {\n        name: 'name3',\n        attr2: 'val3-2',\n        attr3: {field : 'val3-3',count:105}\n      }\n    }, {\n      type:'Feature',\n      id: 'id2',\n      geometry: {type: 'Point', coordinates: [-30,-50]},\n      properties: {\n        name: 'name2',\n        attr2: 'val2-2',\n        attr3: {field : 'val2-3',count:2}\n      }\n    }]\n```\n**Case 2** joinMap contains the propertyMap\n```javascript\n    var joinMap = {\n      geoKey:'properties.name', //here geoKey can be feature 'id' also \n      dataKey: 'attr1',\n      propertyMap:[{\n          geoProperty: 'prop1',\n          dataProperty:'attr2'\n        }, {\n          geoProperty: 'prop2',\n          dataProperty: 'attr3.field'\n        }, {\n          geoProperty: 'count',\n          dataProperty: 'attr3.count'\n        }]\n    };\n```\nextentGeoJSON(geojsons,dataSet,joinMap);\n```\n** Output of case 2** Now geojsons contains the extended properties like this:\n```jsvascript \n    [{\n      type:'Feature',\n      id: 'id1',\n      geometry: {type: 'Point', coordinates: [34,50]},\n      properties: {\n        name: 'name1',\n        prop1: 'val1-2',\n        prop2: 'val1-3',\n        count: 23\n      }\n    }, {\n      type:'Feature',\n      id: 'id3',\n      geometry: {type: 'Point', coordinates: [10,35]},\n      properties: {\n        name: 'name3',\n        prop1: 'val3-2',\n        prop2: 'val3-3',\n        count: 105\n      }\n    }, {\n      type:'Feature',\n      id: 'id2',\n      geometry: {type: 'Point', coordinates: [-30,-50]},\n      properties: {\n        name: 'name2',\n        prop1: 'val2-2',\n        prop2: 'val2-3',\n        count:2\n      }\n    }]\n```\n\n##License\nThis project is licensed under the terms of the MIT license.\n","maintainers":[{"name":"gagan-bansal","email":"gaganbansal123@gmail.com"}],"time":{"modified":"2015-03-12T07:30:04.059Z","created":"2014-04-21T06:21:53.741Z","0.0.0":"2014-04-21T06:21:53.741Z","0.0.2":"2014-05-20T07:11:50.363Z","0.0.3":"2014-09-27T15:51:22.730Z","0.1.0":"2015-02-10T10:07:15.639Z","0.1.1":"2015-03-12T07:17:37.565Z","0.1.2":"2015-03-12T07:30:04.059Z"},"homepage":"https://github.com/gagan-bansal/extend-geojson-properties","keywords":["geojson","attributes","join","extend","maps"],"repository":{"type":"git","url":"https://github.com/gagan-bansal/extend-geojson-properties"},"author":{"name":"Gagan Bansal","email":"gaganbansal123@gmail.com"},"bugs":{"url":"https://github.com/gagan-bansal/extend-geojson-properties/issues"},"license":"MIT","readmeFilename":"README.md","_attachments":{},"_etag":"W/\"5501407c-3435\"","_lastModified":"Thu, 12 Mar 2015 07:30:04 GMT"}